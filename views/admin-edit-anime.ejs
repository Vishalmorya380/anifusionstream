<%- include('partials/header') %>
<div class="container mx-auto p-4 max-w-md">
  <h1 class="text-2xl font-bold mb-4">Edit Anime</h1>
  <form action="/admin/edit-anime/<%= anime._id %>" method="POST">
    <div class="mb-4">
      <label class="block mb-1">Name</label>
      <input type="text" name="name" value="<%= anime.name %>" class="w-full p-2 rounded bg-gray-700 text-white" required>
    </div>
    <div class="mb-4">
      <label class="block mb-1">Image URL</label>
      <input type="text" name="imageUrl" value="<%= anime.imageUrl %>" class="w-full p-2 rounded bg-gray-700 text-white" required>
    </div>
    <div class="mb-4">
      <label class="block mb-1">Description</label>
      <textarea name="description" class="w-full p-2 rounded bg-gray-700 text-white" required><%= anime.description %></textarea>
    </div>
    <div class="mb-4">
      <label class="block mb-1">Genres</label>
      <% genres.forEach(genre => { %>
        <label class="block"><input type="checkbox" name="genres" value="<%= genre._id %>" <%= anime.genres.some(g => g._id.toString() === genre._id.toString()) ? 'checked' : '' %>> <%= genre.name %></label>
      <% }) %>
    </div>
    <button type="submit" class="bg-blue-500 p-2 rounded w-full">Update Anime</button>
  </form>
</div>
<%- include('partials/footer') %>